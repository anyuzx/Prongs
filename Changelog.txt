Changelog 2019/08/29 Version 0.5

Fix:
- Clean up: delete unused codes
- Use `coverImage` instead of `image` in the frontmatter to defined the cover image (about.md)

Feature:
- Add production mode
  - Define enviroment variable in both _data/site.js and .eleventy.js
  - Use `ELEVENTY_ENV` in package.json 
  - Use `ELEVENTY_ENV` in postcss.config.js
  - Use `site.ENV` in templates
  - Now when running production run
    - include google analytics
    - run purgeCSS
    - minify HTML
- Rewrite _data/site.js
  - use all CAPS for each variable
  - add some new variables
    - RSS feed file is now defined in site.js and used in the templates (base.njk, feed.njk)
- Icons system
  - new svg icons in _includes/svg
  - _includes/partial/_footer.njk is redesigned with some icons
  - add class .icon to _includes/css/main.css
  - apply fill-current class to all tags whose parent is <svg>
- Define a shortcode to wrapp dayjs
  - now the date can be formatted as {% dayjs [date], [format] %} where format can be something like 'YYYY-MM-DD'
- Use Nunjucks as template engine for preprocessing markdown file (consistent with tempaltes)

---

Changelog 2020/04/08 Version 0.6

Feature:
- Add panorama mode for photo
  - photo with the custom context field "panorama: True" in *cloudinary* will be displayed
  with 90 viewport width. See [this
  page](https://www.guangshi.io/photos/san-francisco-park-panorama) for
  example
  - this feature is achieved using [this CSS trick](https://css-tricks.com/full-width-containers-limited-width-parents/#article-header-id-6)
- Add sitemap
  - add sitemap.njk
- Minor style changes
  - Decrease the font size of post title
  - Do not use the seperating line after the header and before the footer
  - Change the style of the footer
	- add twitter link (with icon)
	- do not show the modified date
	- make the icon size larger
  - make the equation font size smaller (1.1em instead of 1.2em)

---

Changelog 2020/04/12 Version 0.65

Feature:

- use Inter variable font

Changelog 2020/04/19 Version 0.7

Feature:

- new style for photo information box
  - add border for each box
  - replace old unicode for `s`, `mm`
  - use IBM Plex Mono for displaying Exif information
- redesign the website logo
  - the name and logo is combined into one single svg file
  - use **Teko** font for name
  - the æ—¶ logo is completely redesigned in inkscape
- new style for fenced code block
  - new syntax color scheme: Atelier Forest Light https://atelierbram.github.io/syntax-highlighting/atelier-schemes/
  - new block style
  - new font - IBM Plex Mono

---

Changelog 2020/04/25 Version 0.8

Feature:

- Now the /photos page use lazy loading for images. This feature is
implemented using [lazyload](https://github.com/verlok/lazyload)
  - First 4 images are loaded instantly. The rest are lazy loading
  - Compatible with <picture> element and webp format
  - Use a low-resolution blackwhite low quality images as placeholder. Utilize
  the cloudinary feature
- New way to generate publication page
  - First generate `.bib` file for the list of publications
  - Use	`pandoc-citeproc` to convert the `.bib` file to `.yaml` format. Then
  use the generated YAML file as the 11ty template data file.
  - add a custom filter to be able to group the data by keys and sort by keys
  - In the template `publication.njk`, loop through each publication items and
  markup each item as like.
- Change the site logo/icon's fill color
- Some minor changes

Changelog 2020/05/21 Version 0.9

Feature:

- use instangpage for faster page navigation
- Refactor some CSS styling.
- Refactor the CSS pipeline
  - Postcss run
  - Inline page-specific **purged** CSS styles for each page (put them in <style> tag in the head) through `_includes/js/purgecss.js` and Eleventy's transform API
  - Generate a **purged** CSS file using purgecss's CLI function
- Support `script` front-matter in markdown file. It can be used to add page specific script link or inline javascript code to the page
- add javascript minify Nunjucks filter using `Terser`
- rewrite the collection to collect posts by its tags. Can be used to generate tags page using pagination
- Cleanup codes


Changelog 2020/05/25 Version 0.9.5

Feature:

- new photos archive page where each photo is displayed on a grid, small.

---

Changelog 2026/02/13 Version 1.0

Feature:

- Upgrade Eleventy from `0.11` to `3.1.2`.
  - Update build/runtime dependencies and lockfile.
  - Keep site build compatible with Node `>=18`.
- Replace legacy `eleventy-plugin-pwa` with a native build hook using `workbox-build`.
  - Add `src/utilities/build/generateServiceWorker.js`.
  - Generate `service-worker.js` on `eleventy.after` in production builds.
- Improve remote data workflow for publications/photos.
  - Add cache-backed data loaders:
    - `src/_data/getPublications.js`
    - `src/utilities/collections/getPhotos.js`
  - Add cache files:
    - `src/contents/publications/publication_data.json`
    - `src/contents/photos/cloudinary_photos.json`
  - Add `build:refresh-data` script to force refresh from remote APIs.
- Update deployment behavior for Netlify.
  - Change build command in `netlify.toml` to `npm run build:refresh-data`.
- Tailwind and Rollup modernization.
  - Upgrade to `tailwindcss@3.4.x` and PostCSS 8 stack.
  - Upgrade to `rollup@4.x` and modern Rollup plugins.
  - Replace deprecated Node builtins plugin with `rollup-plugin-polyfill-node`.
  - Refactor `tailwind.config.js`, `postcss.config.js`, and `rollup.config.js`.

Fix:

- Fix `/posts` list HTML nesting regression.
  - Harden excerpt generation to plain-text safe output in `src/utilities/filters/excerpt.js`.
  - Prevent malformed/truncated HTML in excerpts from breaking `<div class="post-item">` structure.
- Improve production robustness.
  - Update YAML loader usage: `yaml.safeLoad` -> `yaml.load`.
  - Make HTML minify transform fail-open (warn and continue) on invalid page fragments.
  - Update highlight.js API usage in markdown renderer to current signature.
  - Update Tailwind utility usage (`nums-tabular` -> `tabular-nums`).

