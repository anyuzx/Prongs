---
pagination:
    data: collections.photos
    size: 1
    alias: photo
layout: layouts/photo.njk
permalink: /photos/{{ photo.public_id.split("/")[1] | slug }}/
---

{% set cloudinary_url = "https://res.cloudinary.com/" + site.CLOUDINARY + "/image/upload" %}

{% for photo in pagination.items -%}
  {% if loop.last %}
  <section class="mb-8">
  {% else %}
  <section class="mb-8">
  {% endif %}
    <picture>
        <source
            srcset="{{ cloudinary_url }}/c_scale,f_auto,q_100,w_800/{{ photo.public_id }}.webp 800w,
                    {{ cloudinary_url }}/c_scale,f_auto,q_100,w_1600/{{ photo.public_id }}.webp 1600w"
            type="image/webp">
        <img
            sizes="(max-width:650px) 100vw,
                768px"
            srcset="{{ cloudinary_url }}/c_scale,f_auto,q_100,w_800/{{ photo.public_id }}.jpg 800w,
                    {{ cloudinary_url }}/c_scale,f_auto,q_100,w_1600/{{ photo.public_id }}.jpg 1600w"
            src="{{ cloudinary_url }}/c_scale,f_auto,q_100,w_1600/{{ photo.public_id }}.jpg"
            alt="{{ photo.context.custom.alt }}"
        >
    </picture>
    <div class="sm:flex justify-between">
        <div class="text-left sm:w-3/4">
            {% if photo.context.custom.caption %}
                <div class="font-black">{{ photo.context.custom.caption | title }}</div>
            {% endif %}
            {% if photo.context.custom.alt %}
                <div>{{ photo.context.custom.alt }}</div>
            {% endif %}
            <div>&copy; All copyrights reserved.</div>
        </div>
        <div class="sm:w-1/4 note mb-0 mt-4 sm:mt-0">
            {% if photo.image_metadata.model %}
                <div class="font-bold">{{ photo.image_metadata.model }}</div>
            {% elif photo.context.custom.camera %}
                <div class="font-bold">{{ photo.context.custom.camera }}</div>
            {% endif %}
            {% if photo.context.custom.film %}
                <div class="pr-2 sm:w-1/2">{{ photo.context.custom.film }}</div>
            {% endif %}
            <div class="flex flex-wrap text-gray-700" style="font-variant:unicase;">
                {% if photo.image_metadata.ShutterSpeedValue %}
                    <div class="pr-2 sm:w-1/2"><span style="font-variant:diagonal-fractions;">{{ photo.image_metadata.ShutterSpeedValue }}</span> s</div>
                {% endif %}
                {% if photo.image_metadata.ApertureValue %}
                    <div class="pr-2 sm:w-1/2">&#402;/{{ photo.image_metadata.ApertureValue }}</div>
                {% endif %}
                {% if photo.image_metadata.FocalLength %}
                    <div class="pr-2 sm:w-1/2">{{ photo.image_metadata.FocalLength }}</div>
                {% endif %}
                {% if photo.image_metadata.ISO %}
                    <div class="pr-2 sm:w-1/2">ISO {{ photo.image_metadata.ISO }}</div>
                {% endif %}
            </div>
        </div>
    </div>
  </section>
{%- endfor %}