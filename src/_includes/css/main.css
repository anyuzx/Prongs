@tailwind base;

/* -------------------------------------------------------
User Inter font https://rsms.me/inter/
Both standard font and variable font
*/

/*
html { font-family: 'Inter', sans-serif; }
@supports (font-variation-settings: normal) {
  html { font-family: 'Inter var', sans-serif; }
}

@font-face {
  font-family: 'Inter';
  font-style:  normal;
  font-weight: 300;
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter-Light.woff2?v=3.12") format("woff2"),
       url("https://rsms.me/inter/font-files/Inter-Light.woff?v=3.12") format("woff");
}
@font-face {
  font-family: 'Inter';
  font-style:  normal;
  font-weight: 400;
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter-Regular.woff2?v=3.12") format("woff2"),
       url("https://rsms.me/inter/font-files/Inter-Regular.woff?v=3.12") format("woff");
}
@font-face {
  font-family: 'Inter';
  font-style:  italic;
  font-weight: 400;
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter-Italic.woff2?v=3.12") format("woff2"),
       url("https://rsms.me/inter/font-files/Inter-Italic.woff?v=3.12") format("woff");
}
@font-face {
  font-family: 'Inter';
  font-style:  normal;
  font-weight: 500;
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter-Medium.woff2?v=3.12") format("woff2"),
       url("https://rsms.me/inter/font-files/Inter-Medium.woff?v=3.12") format("woff");
}
@font-face {
  font-family: 'Inter';
  font-style:  normal;
  font-weight: 700;
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter-Bold.woff2?v=3.12") format("woff2"),
       url("https://rsms.me/inter/font-files/Inter-Bold.woff?v=3.12") format("woff");
}

/**
Variable font
 */
/*
@font-face {
  font-family: 'Inter var';
  font-weight: 100 900;
  font-style: normal;
  font-named-instance: 'Regular';
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter-roman.var.woff2?v=3.12") format("woff2");
}
@font-face {
  font-family: 'Inter var';
  font-weight: 100 900;
  font-style: italic;
  font-named-instance: 'Italic';
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter-italic.var.woff2?v=3.12") format("woff2");
}
*/

/* Legacy naming compatibility */
/*
@font-face {
  font-family: 'Inter var alt';
  font-weight: 100 900;
  font-style: normal;
  font-named-instance: 'Regular';
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter-roman.var.woff2?v=3.12") format("woff2");
}
@font-face {
  font-family: 'Inter var alt';
  font-weight: 100 900;
  font-style: italic;
  font-named-instance: 'Italic';
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter-italic.var.woff2?v=3.12") format("woff2");
}
*/

/* --------------------------------------------------------------------------
[EXPERIMENTAL] Multi-axis, single variable font.

Slant axis is not yet widely supported (as of February 2019) and thus this
multi-axis single variable font is opt-in rather than the default.

When using this, you will probably need to set font-variation-settings
explicitly, e.g.

  * { font-variation-settings: "slnt" 0deg }
  .italic { font-variation-settings: "slnt" 10deg }

*/

/*
@font-face {
  font-family: 'Inter var experimental';
  font-weight: 100 900;
  font-style: oblique 0deg 10deg;
  font-display: swap;
  src: url("https://rsms.me/inter/font-files/Inter.var.woff2?v=3.12") format("woff2");
}
*/


/*
 * under line for a tag
 */
p a {
  @apply underline;
}

p a:hover {
  @apply no-underline;
}

article a {
  @apply underline;
}

article a:hover {
  @apply no-underline;
}
/*
 * add border to code blocks
 */
article pre {
  @apply border-t border-b border-gray-600;
  border-color: #000000;
}

article :not(pre) > code {
  font-family: 'IBM Plex Mono', 'Fira Code','Roboto Mono',Menlo,monospace;
  @apply rounded-sm;
  background-color: #F0F0F4;
  padding: 0.05rem;
}

article h1:not(pre) > code, h2:not(pre) > code, h3:not(pre) > code, h4:not(pre) > code, h5:not(pre) > code, h6:not(pre) > code {
  font-size: inherit;
  font-weight: inherit;
  padding: unset;
  background: unset;
}

/*
 * add bullet to list
 */
article ul {
  @apply list-disc;
}

article ol {
  @apply list-decimal;
}

article :last-child {
  @apply mb-0
}

/*
 * fluid svg
 */

/*
svg {
  width: 100%;
  height: 100%;
}

svg > * {
  @apply fill-current;
}
*/

figcaption {
  @apply text-center text-sm p-4;
  color: dimgrey;
}

img {
  max-width: 600px;
  max-height: 600px;
}

figure > img {
  @apply mb-0;
}

blockquote {
  @apply italic;
}

@tailwind components;

/* Custom class from here */
/*
 * Add some base styles
 */

/*
 * Style post list
 * There are two basic styles of listing post
 * post-item and post-card
 * post-item show post title, date and a button to open excerpt when clicked
 * post-card show post title and excerpt
 * Inside a post-item
 * Define post-info and post-excerpt
 * <a>, <time> and <button> tag are styled directly using css selector
 */
.post-item {
  @apply mb-0 py-2 border-t border-b border-transparent;
}

.post-item:hover {
  @apply border-black;
}

.post-item .post-info {
  @apply flex;
}

.post-item .post-info > a {
  @apply w-3/5 font-medium truncate;
}

.post-item .post-info > div {
  @apply w-2/5 inline-flex items-center justify-end;
}

.post-item .post-info > div > time {
  @apply mr-2 font-system-sans;
  font-variant-numeric: tabular-nums;
  letter-spacing:-.012em;
}

.post-item .post-excerpt {
  @apply overflow-hidden text-gray-700;
  max-height: 0px;
  transition: max-height 0.5s ease-in-out;
}

.post-item .post-excerpt > p:first-child {
  @apply border-t mt-2 pt-2;
}

.post-item .post-excerpt > p:last-child {
  @apply mb-0;
}

.post-card {
  @apply mb-6 p-2 rounded-sm block;
  background-color: #F0F0F4;
}

.post-card:hover {
  @apply shadow-md;
}

.post-card .post-title {
  @apply font-black;
}

.post-card .post-excerpt {
  @apply text-gray-700;
  max-height: 300px;
}

.post-card .post-excerpt > p:last-child {
  @apply mb-0;
}

/*
 * custom class tag
 */
.post-tag {
  @apply py-1 px-2 m-1 bg-gray-200 font-light no-underline;
}

.post-tag a {
  @apply no-underline;
}


/*
 * custom class note
 */
.note {
  @apply border-2 p-2;
  border-color: #4e524c;
  background-color: #FFFBF0;
  margin-bottom: 1.63rem;
}

.note *:last-child {
  @apply mb-0;
}

/*
 * custom class big-box
 */
.big-box {
  @apply mb-4 p-4 rounded-sm;
  background: #F0F0F4;
}

.big-box *:last-child {
  @apply m-0;
}

.nav-fixed {
  @apply inset-x-0 top-0 z-50 fixed;
}

/*
* used for styling the header for non-article section
*/
.section-header {
  @apply font-bold text-2xl border-b-2;
  border-color: #17184b;
  width: fit-content;
  width: -moz-fit-content;
}

/*
* displaying research projects on the front page
* use CSS grid
*
*/
.research-display {
  @apply rounded-sm;
  display:grid;
  grid-template-columns: 1fr 1fr;
  grid-gap: 10px;
}

.research-item {
  @apply flex flex-col justify-between; 
}

.research-item h2 {
  @apply mb-0 font-medium leading-tight text-base flex-grow border-l border-r border-t border-black text-center p-2;
  background-color: #f0f0f4;
}

.research-item figure {
  @apply m-0 relative border border-black;
  padding-top: 100%;
}

.research-item figure > img {
  @apply absolute h-full inset-0 object-contain;
}

.research-item.group:hover {
  box-shadow:0 3px 3px -2px rgba(0,0,0,.2), 0 3px 4px 0 rgba(0,0,0,.14), 0 1px 8px 0 rgba(0,0,0,.12);
}

/*
* displaying the photo EXIF
*/

.photoExifBox{
  @apply border border-black p-1 items-center justify-between mb-0 mt-4 flex text-sm;
}

.photoExifBoxHeader {
  @apply font-medium flex-grow;
}

.photoExif {
  @apply flex text-gray-700 font-mono;
  font-variant:slashed-zero;
  word-spacing: -0.3em;
}

.photoExif > div {
  @apply mr-2;
}

/*
style the table of contents
 */
.table-of-contents {
  @apply invisible h-0 sticky text-sm text-gray-500 font-medium;
}

.table-of-contents > ol {
  @apply inline-block list-inside p-2;
  border-right: 1px solid #edf2f7;
  transform: translateX(calc(-100% - (768px - 640px) / 2 - 4em))translateY(-1.3em);
  width: calc(((100vw - 870px) / 2));
  max-width: 300px;
}

.table-of-contents ol {
  list-style-type: none;
}

.table-of-contents li > ol {
  margin-left: 2em;
}

.table-of-contents a {
  @apply no-underline;
}

.table-of-contents li.active-toc > a {
  @apply text-black;
}

@tailwind utilities;

.unactive-nav {
  position: relative;
}

.unactive-nav::before, .unactive-nav::after {
  content: '';
  position: absolute;
  left: 0px;
  right: 0px;
  height: 2px;
  background-color: #17184b;
  transform: scaleX(0);
  transition: transform 0.5s ease;
}

.unactive-nav::before {
  top: 0;
  transform-origin: center right;
}

.unactive-nav:hover::before {
  transform-origin: center left;
  transform: scaleX(1);
}

.unactive-nav::after {
  bottom: 0;
  transform-origin: center left;
}

.unactive-nav:hover::after {
  transform-origin: center right;
  transform: scaleX(1);
}

.active-nav {
  position: relative;
}

.active-nav::before, .active-nav::after {
  content: '';
  position: absolute;
  left: 0px;
  right: 0px;
  height: 2px;
  background-color: #17184b;
  transform: scaleX(1);
  transition: transform 0.5s ease;
}

.active-nav::before {
  top: 0;
  transform-origin: center right;
}


.active-nav::after {
  bottom: 0;
  transform-origin: center left;
}



/*
 * CSS plus/minus animation
 */

.plus-minus {
  position: relative;
  width: 0.5em;
  height: 0.5em;
  min-width: 0.5em;
  min-height: 0.5em;
  /* Vertical line */
  /* horizontal line */
}
.plus-minus:before, .plus-minus:after {
  content: "";
  position: absolute;
  background-color: black;
  transition: transform 0.25s ease-out;
}
.plus-minus:before {
  top: 0;
  left: 50%;
  width: 2px;
  height: 100%;
  margin-left: -1px;
}
.plus-minus:after {
  top: 50%;
  left: 0;
  width: 100%;
  height: 2px;
  margin-top: -1px;
}
.plus-minus:focus {
  outline: none;
}

.plus-minus-toggle.plus-minus {
  cursor: pointer;
}

.plus-minus-toggle.plus-minus:before {
  transform: rotate(90deg);
}

.plus-minus-toggle.plus-minus:after {
  transform: rotate(180deg);
}

/*
 * style .single-post class
 */

.single-post {
  counter-reset: h2;
}

.single-post h2 {
  counter-reset: h3;
}

.single-post h3 {
  counter-reset: h4;
}

.single-post h4 {
  counter-reset: h5;
}

.single-post h5 {
  counter-reset: h6;
}

.single-post h2:before {counter-increment: h2; content: counter(h2) "."; position: absolute; transform: translateX(-100%); padding-right:1em;}
.single-post h3:before {counter-increment: h3; content: counter(h2) "." counter(h3) "."; position: absolute; transform: translateX(-100%); padding-right:1em;}
.single-post h4:before {counter-increment: h4; content: counter(h2) "." counter(h3) "." counter(h4) "."; position: absolute; transform: translateX(-100%); padding-right:1em;}
.single-post h5:before {counter-increment: h5; content: counter(h2) "." counter(h3) "." counter(h4) "." counter(h5) "."; position: absolute; transform: translateX(-100%); padding-right:1em;}
.single-post h6:before {counter-increment: h6; content: counter(h2) "." counter(h3) "." counter(h4) "." counter(h5) "." counter(h6) "."; position: absolute; transform: translateX(-100%); padding-right:1em;}

.single-post h2.nocount:before, h3.nocount:before, h4.nocount:before, h5.nocount:before, h6.nocount:before { content: ""; counter-increment: none }


@tailwind screens;

@screen md {
  article.single-post figure {
    left: 50%;
    right: 50%;
    margin-left: -384px;
    margin-right: -384px;
    max-width: 768px;
    width: 768px;
    position: relative;
  }

  article.single-post pre {
    left: 50%;
    right: 50%;
    margin-left: -384px;
    margin-right: -384px;
    max-width: 768px;
    width: 768px;
    position: relative;
  }
}

@screen sm {
  /*
  * on large screen display four research projects per row
  */
  .research-display {
    display:grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    grid-column-gap: 10px;
  }

  /* adjust heading so that the heading is not hinderred when anchored */

  .single-post h2 {
    @apply -mt-16 border-t-16 border-solid border-transparent;
    -webkit-background-clip:padding-box;
    -moz-background-clip:padding;
    background-clip:padding-box;
  }

  .single-post h3 {
    @apply -mt-16 border-t-16 border-solid border-transparent;
    -webkit-background-clip:padding-box;
    -moz-background-clip:padding;
    background-clip:padding-box;
  }

  .single-post h4 {
    @apply -mt-16 border-t-16 border-solid border-transparent;
    -webkit-background-clip:padding-box;
    -moz-background-clip:padding;
    background-clip:padding-box;
  }

  .single-post h5 {
    @apply -mt-16 border-t-16 border-solid border-transparent;
    -webkit-background-clip:padding-box;
    -moz-background-clip:padding;
    background-clip:padding-box;
  }

  .single-post h6 {
    @apply -mt-16 border-t-16 border-solid border-transparent;
    -webkit-background-clip:padding-box;
    -moz-background-clip:padding;
    background-clip:padding-box;
  }
}

@screen sm {
  /*
  * on large screen display the photo EXIF on 2x2 grids
  */
  .photoExifBox {
    @apply block p-0 mt-0;
  }

  .photoExifBoxHeader {
    @apply border-t border-l border-r border-gray-500 text-center px-1;
  }

  .photoExifBoxHeader2 {
    @apply border-l border-r border-gray-500 px-1 text-center;
  }

  .photoExif {
    @apply text-gray-700 border-t border-l border-gray-500;
    display:grid;
    grid-template-columns: 1fr 1fr;
  }

  .photoExif > div {
    @apply mr-0 text-center p-1 border-b border-r border-gray-500;
  }
}

@screen xl {
  .table-of-contents {
    @apply visible;
    top: 5.3em;
  }
}
